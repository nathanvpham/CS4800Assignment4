
CREATE SEQUENCE public.users_id_seq;

CREATE TABLE public.users (
                id INTEGER NOT NULL DEFAULT nextval('public.users_id_seq'),
                name VARCHAR(40) NOT NULL,
                CONSTRAINT id_user PRIMARY KEY (id)
);


ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;

CREATE SEQUENCE public.comments_id_seq;

CREATE TABLE public.comments (
                id INTEGER NOT NULL DEFAULT nextval('public.comments_id_seq'),
                id_user INTEGER NOT NULL,
                text VARCHAR(400) NOT NULL,
                CONSTRAINT id_comments PRIMARY KEY (id, id_user)
);


ALTER SEQUENCE public.comments_id_seq OWNED BY public.comments.id;

ALTER TABLE public.comments ADD CONSTRAINT users_comments_fk
FOREIGN KEY (id_user)
REFERENCES public.users (id)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;